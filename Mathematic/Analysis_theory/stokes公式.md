---
title: stokes公式
mathjax: true
categories:
  - Mathematic
  - Analysis_theory
date: 2023-02-02
abbrlink: 7fc7eed7
---

# stokes公式
我先前对stokes公式了解不够深入，导致使用时出现了一定的问题，就把它单独列出来吧

<!--more-->

## stokes定理表述
For any **smooth** (n-1)-form $\omega$ with **compact support** on the **oriented** n-dimensional manifold $M$
$$\int_{\partial \Omega}\omega=\int_{\Omega}d\omega$$
## 之前遇到的问题
>之前我将stokes公式用于降低微分n形式的n，我解释它需要求解一个PDE，但我遇到了一些问题，关于三重积分变为闭曲面二重积分，再将闭曲面分离开，再用斯托克斯公式继续降为曲线积分，但发现最后结果变成0了，这是什么原因？

## 分析一下
其实已知的所有定理，包括可加性包括stokes都是正确的，但微分n形式不一定能对应一个微分n-1形式的积分，这里降级的过程不一定成功，自然也就不存在对应关系，不存在对应关系stokes定理绝对是用不了的

事实上我发现有一个降级的**必要条件**，如下图
<img src="/images/微分流形公式整理_图1.jpg" width="50%" height="50%">

上图即证明，如果能降两级，除非最顶上函数恒为0，不然函数肯定是不存在的，也就无法降级了

而这样一个结论其实就是曲面积分只与边界曲线有关

## 整理一下
- 一个曲面积分若能用stokes公式转化为曲线积分，那么把它补齐，在转化为三重积分，微分形式为0($x - x = 0$)(后面的$-x$就是补的面)
- 一个曲面积分若$d\omega$不为0，不能化到曲线积分($d^2\omega$=0所导致的限制)，若补全并转化为三重积分不为0，也就是说不满足曲面积分只取决于边界曲线，不再是$x-x=0$，而是$x-y\ne0$了

stokes公式给出的前提条件是用来把低一级转化为高一级的，其中自然没有障碍，但是要想反推出把高一级转化为低一级的stokes公式，式子当然是没有变化，但是前提条件自然是会发生变化的

## 进一步
**整理如下表**
<img src="/images/微分流形公式整理_图2.jpg" width="100%" height="100%">

补充一点，这里还有一个**积分区域维度不高于整体维度的约束条件**，即当$\omega$为n维流形的微分n形式时，无法向更高一级转化

直观感受就是一个低一级的积分能被高一级的积分所囊括，但是高一级的积分不一定之和它的边界条件有关，要满足一定的更加苛刻的条件(对于$\int_{\Omega}\omega$想要向低一级转化必须满足$d\omega = 0$)，这是符合直觉的(高维能包含低维，低维包含高维需要制约条件的直觉)

>**关键点就是只有$d\omega$等于0时候才能做到“以偏概全”，其它时候只能“高维表达低维”**

## 闭形式与恰当形式
引用wiki上**闭形式与恰当形式**
在数学，特别是向量分析与微分拓扑中，一个**闭形式**$\alpha$是微分算子$d$的核，即$d\alpha=0$(注意这里是**恒成立**，如果是某些项出现除以0导致的不存在，那也不算)的微分形式；而**恰当形式**(恰当微分形式)$\alpha$是微分算子$d$的像，即存在某个微分形式$\beta$使得$\alpha=d\beta$，$\beta$称为关于$\alpha$的一个“本原”。
有如下两个**结论**：
- 恰当形式**一定是**闭形式
- 闭形式**不一定**是恰当形式
    >展开来说，依据**庞加莱引理**，如果整体的流形$\omega$是单联通的(可以连续的缩为一个点)则闭形式为恰当形式
    >但如果整体的流形$\omega$不是单连通的，那么闭形式就**不一定**是了(而且甚至要用stokes定理**反证**它不是，就是证明如果存在和stokes计算结果不一致)，当然，我们也无需考虑这一种情况了(需要利用deRham定理，还需要计算流形的Betti数)，相关内容 陈维恒《微分流形初步》P195

如此，$d\omega=0$不能说明它是恰当形式，只有上述情况已被证明闭形式是恰当形式，这些情况也不覆盖所有的可能，因而还得具体问题具体分析
对于这些已经被证明的情况之外的情况，$d\omega=0$仍然得**找到一个在规定区域上均有定义**的"原微分形式"才能说明一切

即使是deRham定理也只是叙述了光滑紧致流形上的情况。不过根据庞加莱引理，在任意球状邻域内闭微分式都是恰当的，那么证明一般来说都可以解，只不过解出来的是否都是覆盖到整体，就不一定了

证明不成立，可以用闭合$(p+1)$维曲面的环路积分为$0$，这个stokes推论去反证

总之判断一个闭形式是否是恰当形式非常困难，DeRham定理也只是判断是否闭形式就是恰当形式，而在上述命题时也不能确定一个闭形式是否就是恰当形式

可以利用子流形上的积分是把微分形式限制在一个子流形上的区域，再在区域的微分流形上利用子流形相对于原流形的制约方程，可以对子流形的微分形式进行更换，再匹配到更大的微分流形上，通过联系stokes，实现更大范围的运算。这里用到了流形之间的光滑映射诱导的形式场的映射用来转化，更专业一点的术语叫拉回


## 边界的小问题
Stokes公式在需要微分形式有**紧致支撑集**，这就相当于在紧致流形上进行计算。

我们思考一个流形是哪个流形的边界时，**应该去凑谁的边界是它，或者是它的一部分，而不是看它围成的区域**，因为我们的这个计算的流形，不能超过整个流形

如果说人为规定流形为$\{(x,y)|x^2+y^2\le 2\}-\{0,0\}$，上面定义了微分形式，要求一个$\{(x,y)|x^2+y^2= 1\}$的积分，如果微分形式在上面**没有紧支撑**(整个流形的闭包还是整个流形，因为拓扑空间$X$即是开集也是闭集)，stokes不能使用，有紧支撑的话，能使用(计算方法同下一段)。因而stokes还是有相当的限制在其中的，不是全部都能计算的

stokes没有规定流形一定要有边界，但是一定要有**紧致支撑集**，当然要是纯纯的开集，还有紧致支撑集的话，使用stokes肯定是0(开的部分是不算边界的)
$$\int_{(0,1)}\omega=\int_{\partial (0,1)\omega}=0$$
这很好理解，因为有紧致支撑集说明函数导数在0，1处为0了，根据微积分基本定理肯定为0
同理半开半闭区间，就是只能算一边，另一边为0的情况

但是显然正常来说，嵌入在$\mathbb{R}^n$中的stokes定理的推论**无需关注**这点，因为一般来说函数覆盖整个$\mathbb{R}^n$或者其中很大的区域，题目也从不对其设置限制
## 总结
首先复盘一下流形上的积分定义，要求微分形式必须拥有紧致支撑集，所以流形上的积分其实是不考虑在$\mathbb{R}^1$上的广义积分的，那一种情况是根据微积分基本定理的延拓，显然我们这里不需要考虑这种问题。
仔细阅读一下stokes公式，可以看到其相当重要的限制有如下的两条
- $\partial \omega$与$\omega$均需要是在整个流形上的**光滑**张量场，这是来自于微分形式的定义
- 在上一条成立后，$\partial \omega$与$\omega$必须在整个流形上有一个**紧致支撑集**

注意这里没有要求流形的紧致性与连通性，因为微分形式有**紧致支撑集**可以规避这个问题，积分必然有意义
我们可以根据这两条去观察是否正确的使用stokes，并以此可以去**凑**出一个带着微分形式的流形可以达到我们的目的，格林公式，高斯公式，斯托克斯公式都是在$\mathbb{R}^n$帮你找出了一种**凑**好的格式罢了

#### 如果要把微分形式阶数降下来
- 首先$d\omega$必须恒为0，不然绝对不存在
- 降下来需要求解一个PDE，但PDE解完之后结果必须满足张量场是定义在**整个被积分的流形**上的光滑张量场 **(而不是边界，这点需要看公式)**
- 有可能因为闭形式不是恰当形式而导致解不出，这时候要想证伪就可以使用stokes推论闭合超曲面积分为0反证证伪
- 下一步即得到stokes公式

#### 如果要把微分形式阶数升上去
- 选定以自己这个流形$\partial \Omega$作为边界或者边界的一部分的“母”流形，抑或是再通过和其它区域相加补全后寻找(因为要升一阶微分形式)
- 由于$\omega$是光滑张量场，那么$d\omega$也是在原边界的流形上的光滑的张量场(这点由外微分算子的定义来保证)，不需要考虑光滑的问题
- 根据**外微分算子的局部性**与**子流形上的积分定义**，需要选择一个合理的微分形式，使得这个选择的微分形式$\beta$满足$f^{\ast}\beta=f^{\ast}\omega$(既是使用子流形在“母”流形上的约束方程与之联立，得到相关的微分形式组，以达到换微分形式，使得方便运算的结果)
- (关于这个子流形上的微分形式，必须要微分形式和约束方程同时出现，并且**消去才算**作真正子流形上的微分形式，最次也得留着后面跟个括号，约束方程就是用来消去子流形和“母”流形之间的维度差数的，所以，不同的微分形式加以相同的约束方程，可能不一样的微分形式能计算出相同的结果，自然就可以得到一个原微分形式的集合，即求解$i^\ast\omega = i^\ast\alpha$，好比求解限制函数在应该定义域内的相等)，并且使得这个微分形式也要满足最基本的在$\Omega$上的**光滑**(stokes里暗含一个**包含映射**，来自于子流形用“母”流形的微分形式积分的定义)
- 进一步，要考虑$\beta$是否在**选定的母流形内**存在**紧致支撑集**，像格林公式，高斯公式，斯托克斯公式都已经帮你选好了函数处处有定义的闭集了，就不需要考虑这个问题了
- 下一步即得到stokes公式

总之最主要是判断stokes定理是否使用正确
以上这俩一个低一阶微分形式难取，一个“母”流形难取，倒是对称了，这也许就是数学的**对称美感**吧